{
	"info": {
		"_postman_id": "9c81257a-349f-4b44-9422-6ea5050815ae",
		"name": "100_Flow Visbo TimeTracker",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "3772652"
	},
	"item": [
		{
			"name": "100 VISBO Time Tracker",
			"item": [
				{
					"name": "100-00 Add Users to VC",
					"item": [
						{
							"name": "100-00-00",
							"item": [
								{
									"name": "100-01-001 User Login vtr",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"packages": {},
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"{{UserAdmin}}\",\n  \"password\": \"{{password}}\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-002 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"05-01-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-002a Get VC Groups",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Search for Default Groups\", function() {",
													"    var jsonData = pm.response.json();",
													"",
													"    pm.expect(jsonData.groups && jsonData.groups.length >= 0).to.be.eql(true, \"No groups List found\");",
													"    var searchName = pm.environment.get(\"GroupReadName\");",
													"    var list = jsonData.groups;",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name);",
													"        pm.globals.set(\"groupID\", list[index]._id);",
													"    } else {",
													"        pm.execution.setNextRequest(\"02-02-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Group not found\")",
													"    }",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-002b Add a new Group special",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Does the specialtimetracking Group exists\", function() {",
													"    var jsonData = pm.response.json();",
													"",
													"    var list = jsonData.groups;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = \"specialtimetracking\";",
													"    var index = list.findIndex(item => item.name == searchName);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"specialID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.expect(searchName).to.be.eql(\"\", \"Group not found\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"permission\": {\n        \"vc\": 17,\n        \"vp\": 17\n        },\n    \"name\": \"specialtimetracking\",\n    \"global\": true\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-002c Add User Achim to specialtimetracking Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"achim@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{specialID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{specialID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-002d Add User Anton to specialtimetracking Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"anton@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{specialID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{specialID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-002 Get VC User Group List",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Search for User List\", function() {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.groups;",
													"    pm.expect(list && list.length > 0).to.be.eql(true, \"No Groups found\");",
													"    //var searchName = pm.environment.get(\"UserRead\");",
													"    var searchName = pm.environment.get(\"GroupPLName\");      ",
													"    console.log(\"Search Group :\", searchName);",
													"    console.log(\"grouplist :\", list);",
													"    var index = list.findIndex(item =>  item.name == searchName);",
													"    if (index >= 0) {",
													"        console.log(\"Found Group :\", searchName);",
													"        pm.globals.set(\"groupID\", list[index]._id);        ",
													"        console.log(\"Found Group :\", searchName);",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Achim to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var UserPL=\"uterittinghauskoytek@gmail.com\"\r",
													"console.log(\"UserPL = \", UserPL)\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"achim@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Anton to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"anton@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Annabell to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"annabell@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Amelie to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"amelie@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Adelheid to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"adelheid@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Armin to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"armin@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Edeltraud to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"edeltraud@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Edgar to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"edgar@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Eike to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"eike@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Emil to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"emil@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Emily to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"emily@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Erich to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"erich@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Erika to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"erika@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Ester to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"ester@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Eugen to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"eugen@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Tamara to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"tamara@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Tassilo to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"tassilo@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Theodor to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"theodor@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Thomas to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"thomas@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-003 Add User Traudi to PL Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{  \n  \"email\":\"traudi@visbo.de\"\n}"
										},
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/group/{{groupID}}/user",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"group",
												"{{groupID}}",
												"user"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "100-01-A Create TimeRecords Analysten",
					"item": [
						{
							"name": "100-01-01",
							"item": [
								{
									"name": "100-01-011 User Login vtr Achim",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);    ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"Achim@visbo.de\",\n  \"password\": \"ach_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-012 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-01-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-013 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-014 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-01-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    //timerecdate.setDate(timerecdate.getDate());",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-015 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 5);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-015 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-016 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-016 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-01-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-017 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 4);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-017 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-01-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-01-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-02",
							"item": [
								{
									"name": "100-01-021 User Login vtr Anton",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);       ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);     ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"anton@visbo.de\",\n  \"password\": \"ant_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-022 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-02-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-023 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-024 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-02-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-025 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 3);\r",
													"//var hours = pm.globals.get(\"hours\");\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-025 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-026 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Analyse Meeting for Start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-026 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-02-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-027 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 2);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-027 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-02-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Analyse Review\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-02-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-03",
							"item": [
								{
									"name": "100-01-031 User Login vtr Annabell",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);     ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);       ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"annabell@visbo.de\",\n  \"password\": \"ann_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-032 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-03-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-033 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-034 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-03-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"          ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-035 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 5);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-035 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-036 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Meeting to Analyse\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-036 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-03-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"         ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-037 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 4);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-037 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-03-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Analyse - Task check it\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-03-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-04",
							"item": [
								{
									"name": "100-01-041 User Login vtr Amelie",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);        ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"amelie@visbo.de\",\n  \"password\": \"ame_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-042 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"05-01-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-043 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-044 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-04-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }        ",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-045 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 3);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-045 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-046 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"zoom Meeting Anlayse\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-046 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-04-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-047 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 2);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-047 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-04-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Analyse - set up entries in JIRA\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-04-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-05",
							"item": [
								{
									"name": "100-01-051 User Login vtr Adelheid",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);        ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"adelheid@visbo.de\",\n  \"password\": \"ade_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-052 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-05-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-053 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-054 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-05-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-055 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 5);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-055 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-056 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"zoom Meeting Anlayse - ready to start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-056 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-05-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(23, 59, 59, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-057 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 4);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-057 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-05-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Analyse - check issues of Jira\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-05-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "100-01-E Create TimeRecords Entwickler",
					"item": [
						{
							"name": "100-01-06",
							"item": [
								{
									"name": "100-01-061 User Login vtr Edeltraud",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);    ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"edeltraud@visbo.de\",\n  \"password\": \"ede_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-062 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-06-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-063 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-064 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-06-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-065 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 6);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-065 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-066 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-066 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-06-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-067 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 6);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-067 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-06-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-06-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-07",
							"item": [
								{
									"name": "100-01-071 User Login vtr Emil",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);       ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);     ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"emil@visbo.de\",\n  \"password\": \"emi_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-072 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-07-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-073 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-074 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-07-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-075 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 7);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-075 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-076 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": 2,\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Entwickler Meeting for Start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-076 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-07-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-077 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 7);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-077 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-07-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Entwicklungs - Review\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-07-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-08",
							"item": [
								{
									"name": "100-01-081 User Login vtr Edgar",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);     ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);       ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"edgar@visbo.de\",\n  \"password\": \"edg_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-082 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-08-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-083 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-084 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-08-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-085 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 8);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-085 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-086 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Meeting to Entwicklung\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-086 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-08-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-087 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 8);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-087 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-08-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": 4,\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Entwicklung - Task check it\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-08-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-09",
							"item": [
								{
									"name": "100-01-091 User Login vtr eike",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);        ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"eike@visbo.de\",\n  \"password\": \"eik_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-092 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-09-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-093 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-094 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-09-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-095 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 9);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-095 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-096 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"zoom Meeting Entwicklung\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-096 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-09-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-097 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 9);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-097 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-09-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Entwicklung - set up entries in JIRA\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-09-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-11",
							"item": [
								{
									"name": "100-01-111 User Login vtr Ester",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);        ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"ester@visbo.de\",\n  \"password\": \"est_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-112 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-11-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-113 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-114 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-11-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-115 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 11);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-115 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-116 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"zoom Meeting Entwicklung - ready to start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-116 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-11-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-117 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 11);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-117 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-11-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Entwicklung - check issues of Jira\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-11-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-12",
							"item": [
								{
									"name": "100-01-121 User Login vtr Emily",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);        ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"emily@visbo.de\",\n  \"password\": \"emi_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-122 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-12-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-123 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-124 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-12-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-125 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 12);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-125 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-126 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"zoom Meeting Entwicklung - ready to start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-126 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-12-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-127 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 12);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-127 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-12-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Entwicklung - check issues of Jira\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-12-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-15",
							"item": [
								{
									"name": "100-01-151 User Login vtr Erika",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);        ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"erika@visbo.de\",\n  \"password\": \"eri_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-152 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-15-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-153 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-154 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-15-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-155 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 15);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-155 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-156 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": 5,\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"zoom Meeting Entwicklung - ready to start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-156 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-15-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-157 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 15);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-157 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-15-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Entwicklung - check issues of Jira\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-15-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "100-01-T Create TimeRecords Tester",
					"item": [
						{
							"name": "100-01-16",
							"item": [
								{
									"name": "100-01-161 User Login vtr Tamara",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);    ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"tamara@visbo.de\",\n  \"password\": \"tam_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-162 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-16-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-163 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    // console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-164 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-16-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"          ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);    ",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-165 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 16);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-165 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-166 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing: Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-166 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-06-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-167 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 16);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-167 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-16-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing: Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-16-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-17",
							"item": [
								{
									"name": "100-01-171 User Login vtr Tassilo",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);       ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);     ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"tassilo@visbo.de\",\n  \"password\": \"tas_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-172 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-17-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-173 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    // console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-174 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-17-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-175 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\",7);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-175 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-176 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing Meeting for Start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-176 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-17-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-177 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 7);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-177 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-17-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing Review\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-17-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-18",
							"item": [
								{
									"name": "100-01-181 User Login vtr Theodor",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);     ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);       ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"theodor@visbo.de\",\n  \"password\": \"the_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-182 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-18-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-183 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    // console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-184 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-18-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-185 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 8);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-185 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-186 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Meeting to Testing\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-186 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-18-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-187 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 8);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-187 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-18-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing - Task check it\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-18-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-19",
							"item": [
								{
									"name": "100-01-191 User Login vtr Thomas",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);        ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"thomas@visbo.de\",\n  \"password\": \"tho_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-192 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-19-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-193 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    // console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-194 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-19-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-195 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 9);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-195 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-196 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"zoom Meeting Testing\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-196 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-09-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-197 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 9);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-197 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-19-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing - set up entries in JIRA\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-19-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-01-21",
							"item": [
								{
									"name": "100-01-211 User Login vtr Traudi",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);        ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"traudi@visbo.de\",\n  \"password\": \"tra_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-01-212 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-21-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-01-213 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    // console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-214 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-21-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-215 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 11);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-215 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-216 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"zoom Meeting Testing - ready to start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-216 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-21-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-217 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 11);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-01-217 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-01-21-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing - check issues of Jira\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-01-21-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "100-02-A Create TimeRecords Analysten",
					"item": [
						{
							"name": "100-02-01",
							"item": [
								{
									"name": "100-02-011 User Login vtr Achim",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);    ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"Achim@visbo.de\",\n  \"password\": \"ach_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-02-012 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-01-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-02-013 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-014 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-01-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    //timerecdate.setDate(timerecdate.getDate());",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-015 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 5);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-015 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-016 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-016 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-01-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-017 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 4);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-017 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-01-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-01-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-02-02",
							"item": [
								{
									"name": "100-02-021 User Login vtr Anton",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);       ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);     ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"anton@visbo.de\",\n  \"password\": \"ant_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-02-022 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-02-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-02-023 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-024 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-02-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-025 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 3);\r",
													"//var hours = pm.globals.get(\"hours\");\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-025 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-026 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Analyse Meeting for Start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-026 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-02-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-027 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 2);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-027 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-02-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Analyse Review\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-02-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-02-03",
							"item": [
								{
									"name": "100-02-031 User Login vtr Annabell",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);     ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);       ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"annabell@visbo.de\",\n  \"password\": \"ann_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-02-032 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-01-03-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-02-033 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    //console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-034 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-03-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }       ",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-035 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 5);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-035 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-036 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Meeting to Analyse\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-036 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-03-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }        ",
													"         ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-037 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 4);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-037 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-03-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Analyse - Task check it\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-03-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "100-02-E Create TimeRecords Entwickler",
					"item": [
						{
							"name": "100-02-06",
							"item": [
								{
									"name": "100-02-061 User Login vtr Edeltraud",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);    ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"edeltraud@visbo.de\",\n  \"password\": \"ede_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-02-062 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-06-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-02-063 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-064 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-06-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-065 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 6);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-065 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-066 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-066 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-06-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-067 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 6);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-067 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-06-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-06-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-02-07",
							"item": [
								{
									"name": "100-02-071 User Login vtr Emil",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);       ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);     ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"emil@visbo.de\",\n  \"password\": \"emi_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-02-072 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-07-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-02-073 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-074 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-07-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-075 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 7);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-075 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-076 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": 2,\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Entwickler Meeting for Start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-076 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-07-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-077 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 7);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-077 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-07-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Entwicklungs - Review\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-07-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-02-08",
							"item": [
								{
									"name": "100-02-081 User Login vtr Edgar",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);     ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);       ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"edgar@visbo.de\",\n  \"password\": \"edg_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-02-082 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-08-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-02-083 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-084 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-08-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-085 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 8);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-085 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-086 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Meeting to Entwicklung\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-086 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-08-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-087 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 8);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"//console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-087 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-08-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": 4,\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Entwicklung - Task check it\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-08-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "100-02-T Create TimeRecords Tester",
					"item": [
						{
							"name": "100-02-16",
							"item": [
								{
									"name": "100-02-161 User Login vtr Tamara",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);    ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"tamara@visbo.de\",\n  \"password\": \"tam_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-02-162 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-16-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-02-163 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    // console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-164 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-16-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }        ",
													"         ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-165 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 16);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-165 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-166 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing: Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-166 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-06-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-167 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 16);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-167 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-16-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing: Some information about particular task\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-16-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-02-17",
							"item": [
								{
									"name": "100-02-171 User Login vtr Tassilo",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);       ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);     ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"tassilo@visbo.de\",\n  \"password\": \"tas_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-02-172 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-17-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-02-173 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    // console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-174 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-17-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-175 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\",7);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-175 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-176 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing Meeting for Start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-176 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-17-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-177 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 7);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-177 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-17-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing Review\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-17-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-02-18",
							"item": [
								{
									"name": "100-02-181 User Login vtr Theodor",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);     ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);       ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"theodor@visbo.de\",\n  \"password\": \"the_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-02-182 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-18-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-02-183 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    // console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-184 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-18-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-185 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 8);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-185 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-186 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Meeting to Testing\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-186 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-18-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-187 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 8);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-187 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-18-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing - Task check it\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-18-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-02-21",
							"item": [
								{
									"name": "100-02-211 User Login vtr Traudi",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userEmail\", jsonData.user.email);",
													"    console.log(\"userEmail\", jsonData.user.email);        ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"traudi@visbo.de\",\n  \"password\": \"tra_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-02-212 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-21-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-02-213 Get VC Orga latest",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"    var jsonData = pm.response.json();",
													"    var organisation = jsonData.organisation;",
													"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
													"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
													"",
													"    var allRoles = organisation[0].allRoles;",
													"    pm.globals.set(\"allRoles\", allRoles);",
													"    ",
													"    var allRoles = pm.globals.get(\"allRoles\");",
													"    // console.log(\"allRoles = \", allRoles);",
													"",
													"    var role = allRoles.find(role => {",
													"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
													"            return true;",
													"        }",
													"    });",
													"    console.log(\"Found person in orga :\", role?.name, role?.email);",
													"    pm.globals.set(\"roleID\", role.uid);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var orgaRefDate = new Date();",
													"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc",
												"{{vcID}}",
												"organisation"
											],
											"query": [
												{
													"key": "refDate",
													"value": ""
												},
												{
													"key": "hierarchy",
													"value": "1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-214 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-21-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-215 Create time entry -3 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 11);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-215 Create time entry -3 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-216 Get VP\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"zoom Meeting Testing - ready to start\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-216 Get VP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Check that VP Testname does exist\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vp;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vpID\", list[index]._id);",
													"",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-02-21-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"        ",
													"    var timerecdate = new Date();",
													"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
													"    timerecdate.setDate(1);",
													"    timerecdate.setHours(0, 0, 0, 0);",
													"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
													"    console.log(\"timerecdate = \", timerecdate.toString())",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp?vcid={{vcID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											],
											"query": [
												{
													"key": "vcid",
													"value": "{{vcID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-217 Create time entry -2 month",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.globals.set(\"hours\", 11);\r",
													"var userID = pm.globals.get(\"userID\");\r",
													"// console.log(\"aktuelle userID = \", userID);\r",
													"var userName = pm.globals.get(\"userName\");\r",
													"// console.log(\"aktuelle userName = \", userName);\r",
													"var vcID = pm.globals.get(\"vcID\");\r",
													"// console.log(\"aktuelles VC = \", vcID);\r",
													"var vpID = pm.globals.get(\"vpID\");\r",
													"// console.log(\"aktuelles VP = \", vpID);\r",
													"var userEmail = pm.globals.get(\"userEmail\");\r",
													"// console.log(\"aktuelle userEmail = \", userEmail);\r",
													"var allRoles = pm.globals.get(\"allRoles\");\r",
													"// console.log(\"allRoles = \", allRoles);\r",
													"\r",
													"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
													"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
													"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
													"console.log(\"timerecdate = \", timerecdate.toString())\r",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"02 Time tracker: Create new entry \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
													"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
													"    pm.globals.set(\"userId\", jsonData.userId);",
													"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
													"    var day = timerecDate.getDate();",
													"    console.log(\"day = \", day);",
													"    if (day < 30) {",
													"        pm.execution.setNextRequest(\"100-02-217 Create time entry -2 month\")",
													"    } else {",
													"        pm.execution.setNextRequest(\"100-02-21-99 Final\")",
													"    }",
													"    pm.expect(jsonData.state).to.eql(\"success\");    ",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Testing - check issues of Jira\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-02-21-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "100-03 Approve TimeRecords",
					"item": [
						{
							"name": "100-03-01-00 Approve TR of Analysten",
							"item": [
								{
									"name": "100-03-01 User Login vtr Achim",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();    ",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id);",
													"    console.log(\"userID\", jsonData.user._id);    ",
													"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"achim@visbo.de\",\n  \"password\": \"ach_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-02 Get VC",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code Check\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"Check that VC Testname does exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    var list = jsonData.vc;",
													"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
													"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
													"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
													"    if (index >= 0) {",
													"        console.log(\"Found:\", list[index].name)",
													"        pm.globals.set(\"vcID\", list[index]._id);",
													"    } else {",
													"        console.log(\"Item not found\", searchName)",
													"        pm.execution.setNextRequest(\"100-03-99-99 Final\");",
													"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
													"    }",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vc",
											"host": [
												"{{url}}"
											],
											"path": [
												"vc"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								},
								{
									"name": "100-03-04 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        console.log( \"item.date=\", item.date.toString());",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"    var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-05 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-05 Update all time entries\")",
													"//    } else {",
													"//       pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-06 Login vtr Anton",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"anton@visbo.de\",\n  \"password\": \"ant_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-07 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate >= startDate) && (aktDate <= endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 2;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-08 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-09 Login vtr Annabell",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"annabell@visbo.de\",\n  \"password\": \"ann_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-10 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-11 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-12 Login vtr Amelie",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"amelie@visbo.de\",\n  \"password\": \"ame_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-13 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-14 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-15 Login vtr Adelheid",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"adelheid@visbo.de\",\n  \"password\": \"ade_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-16 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate >= startDate) && (aktDate <= endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-17 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-01-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-03-01-01 Approve TR of Entwickler",
							"item": [
								{
									"name": "100-03-20 Login vtr Edeltraud",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"edeltraud@visbo.de\",\n  \"password\": \"ede_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-21 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-22 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-23 Login vtr Emil",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"emil@visbo.de\",\n  \"password\": \"emi_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-24 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-25 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-26 Login vtr Edgar",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"edgar@visbo.de\",\n  \"password\": \"edg_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-27 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-28 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-29 Login vtr Eike",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"eike@visbo.de\",\n  \"password\": \"eik_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-30 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-31 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-32 Login vtr Ester",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"ester@visbo.de\",\n  \"password\": \"est_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-33 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-34 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-35 Login vtr Emily",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"emily@visbo.de\",\n  \"password\": \"emi_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-36 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-37 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-38 Login vtr Erika",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"erika@visbo.de\",\n  \"password\": \"eri_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-39 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-40 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-02-99 Final",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						},
						{
							"name": "100-03-01-02 Approve TR of Tester",
							"item": [
								{
									"name": "100-03-50 Login vtr Tamara",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"tamara@visbo.de\",\n  \"password\": \"tam_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-51 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-52 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-53 Login vtr Tassilio",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"tassilo@visbo.de\",\n  \"password\": \"tas_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-54 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.timeEntries;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-55 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-56 Login vtr Theodor",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"theodor@visbo.de\",\n  \"password\": \"the_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-57 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-58 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-59 Login vtr Thomas",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"thomas@visbo.de\",\n  \"password\": \"tho_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-60 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-61 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-62 Login vtr Traudi",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"01 Login: Check Login Success\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.globals.set(\"token\", jsonData.token);",
													"    pm.globals.set(\"userID\", jsonData.user._id)",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"email\": \"traudi@visbo.de\",\n  \"password\": \"tra_Just84\"\n}"
										},
										"url": {
											"raw": "{{url}}/token/user/login",
											"host": [
												"{{url}}"
											],
											"path": [
												"token",
												"user",
												"login"
											]
										},
										"description": "Successful Login Request  "
									},
									"response": []
								},
								{
									"name": "100-03-63 Get time entries for Update",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
													"    var jsonData = pm.response.json();",
													"    var timeRecs = jsonData.managerView;",
													"    var listOfRec = [];",
													"    console.log(\"timeRecs = \", timeRecs);    ",
													"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
													"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
													"    timeRecs.forEach(item => {",
													"        var aktDate = new Date(item.date).getTime();",
													"        if ((aktDate > startDate) && (aktDate < endDate) ) {",
													"            listOfRec.push({id: item._id, vpid: item.vpid})",
													"        }",
													"    });    ",
													"    console.log(\"ListofRec=\", listOfRec); ",
													"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													" var today = new Date();\r",
													"    var mm = today.getMonth();\r",
													"    var yy = today.getFullYear();\r",
													"    var approve_mm = mm - 3;\r",
													"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
													"    console.log(\"firstDay : \", firstDay.toISOString());\r",
													"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
													"    lastDay.setHours(0,0,0,0);  \r",
													"    console.log(\"lastDay : \", lastDay.toISOString())\r",
													"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
													"    pm.globals.set(\"endDate\", lastDay.toISOString());"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"startDate\": \"{{startDate}}\",\r\n\t\"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": \"true\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker/{{userID}}",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker",
												"{{userID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-64 Update all time entries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"06 Time tracker: Update time entry\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.state).to.eql(\"success\");",
													"});",
													"",
													"//pm.test(\"06 Time tracker: Update timeEntries of a special day\", function () {",
													"//    var jsonData = pm.response.json();",
													"//    var index = pm.globals.get(\"index\") + 1;",
													"//    console.log(\"index\", index);",
													"//    pm.globals.set(\"index\", index);",
													"//    var listOfRecs = pm.globals.get(\"updateTimeEntries\");",
													"//    if (listOfRecs.length > index) {",
													"//        var entryId = listOfRecs[index]._id;",
													"//        pm.globals.set(\"entryId\", entryId);",
													"//        pm.execution.setNextRequest(\"100-03-08 Update all time entries\")",
													"//    } else {",
													"//        pm.globals.set(\"entryId\", \"\");",
													"//        pm.globals.set(\"index\", \"\");",
													"//    }  ",
													"//});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
													"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
													"console.log(\"updateTimeEntries=\", listOfRecs);\r",
													"var entryId = pm.globals.get(\"entryId\");\r",
													"var userId = pm.globals.get(\"userID\");\r",
													"var apprDate = new Date();\r",
													"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
													"pm.globals.set(\"userID\" , userId)\r",
													"\r",
													"var approvAll = {\"status\": \"Yes\",\r",
													"    \"notes\": \"Additional info about task\",\r",
													"    \"approvalDate\": apprDate.toISOString(),\r",
													"    \"approvalId\": userId,\r",
													"    \"approvalList\": listOfRecs\r",
													"}\r",
													"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{approveAll}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/user/timetracker",
											"host": [
												"{{url}}"
											],
											"path": [
												"user",
												"timetracker"
											]
										}
									},
									"response": []
								},
								{
									"name": "100-03-03-99 Final Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "access-key",
												"value": "{{token}}"
											}
										],
										"url": {
											"raw": "{{url}}/vp",
											"host": [
												"{{url}}"
											],
											"path": [
												"vp"
											]
										},
										"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "100-04 Process TimeRecords",
					"item": [
						{
							"name": "100-04-01 User Login vtr Achim",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"01 Login: Check Login Success\", function () {",
											"    var jsonData = pm.response.json();    ",
											"    pm.globals.set(\"token\", jsonData.token);",
											"    pm.globals.set(\"userID\", jsonData.user._id);",
											"    console.log(\"userID\", jsonData.user._id);    ",
											"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
											"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
											"    pm.expect(jsonData.state).to.eql(\"success\");",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"achim@visbo.de\",\n  \"password\": \"ach_Just84\"\n}"
								},
								"url": {
									"raw": "{{url}}/token/user/login",
									"host": [
										"{{url}}"
									],
									"path": [
										"token",
										"user",
										"login"
									]
								},
								"description": "Successful Login Request  "
							},
							"response": []
						},
						{
							"name": "100-04-02 Get VC",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code Check\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"",
											"pm.test(\"Check that VC Testname does exists\", function () {",
											"    var jsonData = pm.response.json();",
											"    var list = jsonData.vc;",
											"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
											"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
											"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
											"    if (index >= 0) {",
											"        console.log(\"Found:\", list[index].name)",
											"        pm.globals.set(\"vcID\", list[index]._id);",
											"    } else {",
											"        console.log(\"Item not found\", searchName)",
											"        pm.execution.setNextRequest(\"100-04-99 Final\");",
											"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
											"    }",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "access-key",
										"value": "{{token}}"
									}
								],
								"url": {
									"raw": "{{url}}/vc",
									"host": [
										"{{url}}"
									],
									"path": [
										"vc"
									]
								},
								"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
							},
							"response": []
						},
						{
							"name": "100-04-06 Process time entries",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var userID = pm.globals.get(\"userID\");\r",
											"console.log(\"aktuelle userID = \", userID);\r",
											"var vcID = pm.globals.get(\"vcID\");\r",
											"console.log(\"akt. vcid = \" , vcID);\r",
											"var today = new Date();\r",
											"var mm = today.getMonth();\r",
											"var approve_mm = mm - 2;\r",
											"var yyyy = today.getFullYear();\r",
											"var firstDay = new Date(yyyy, approve_mm, 1, 2,0,0,000);  \r",
											"console.log(\"firstDay : \", firstDay.toISOString());\r",
											"var lastDay = new Date(yyyy, approve_mm + 1, 1,23,59,59,000);  \r",
											"lastDay.setHours(0,0,0,0);  \r",
											"console.log(\"lastDay : \", lastDay.toISOString());\r",
											"pm.globals.set(\"firstDay\", firstDay.toString());\r",
											"pm.globals.set(\"lastDay\", lastDay.toString())\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"01 Proecess TimeTracker: process timeRecords \", function () {",
											"    var jsonData = pm.response.json();",
											"    //pm.expect(jsonData.state).to.eql(\"success\");",
											"    pm.response.to.have.status(200);",
											"});",
											"    ",
											"pm.test(\"02 Proecess TimeTracker: process timeRecords \", function () {",
											"    var jsonData = pm.response.json();",
											"    var list = jsonData.vpvTRS;",
											"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
											"    var searchName = pm.environment.get(\"VPBaseName\") + '01 Real';",
											"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
											"    var gesamtBedarf = 0;",
											"    if (index >= 0) {",
											"        console.log(\"Found:\", list[index].name);        ",
											"        pm.globals.set(\"vpvID\", list[index]._id);",
											"        var vpv = list[index];",
											"        var startDay = new Date(vpv.startDate);",
											"        var rootPhase = vpv.AllPhases[0];        ",
											"        var firstDay = new Date(pm.globals.get(\"firstDay\"));",
											"        console.log(\"fistDay=\", firstDay.toISOString());",
											"        var lastDay = new Date(pm.globals.get(\"lastDay\"));",
											"        var lastMonth = lastDay.getMonth();",
											"        console.log(\"lastDay=\", lastDay.toISOString());",
											"        var aktMonth = 0;",
											"        var months;",
											"        months = (firstDay.getFullYear() - startDay.getFullYear()) * 12;",
											"        months -= startDay.getMonth();",
											"        months += firstDay.getMonth();",
											"        var aktMonth = months;",
											"        console.log(\"aktMonth=\", aktMonth);",
											"        rootPhase.AllRoles.forEach(item => {",
											"            console.log(\"roleID = \", item.RollenTyp, item.Bedarf[aktMonth]);",
											"            gesamtBedarf += item.Bedarf[aktMonth];",
											"        })",
											"        console.log(\"GesamtBedarf ber alle Rollen = \", gesamtBedarf.toString())",
											"    } else {",
											"        console.log(\"Item not found\", searchName)",
											"        pm.execution.setNextRequest(\"100-04-99 Final\");",
											"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
											"    }",
											"    pm.expect(gesamtBedarf).to.eq(942.5);",
											"});",
											"        ",
											"pm.test(\"03 Proecess TimeTracker: process timeRecords \", function () {",
											"    var jsonData = pm.response.json();",
											"    var list = jsonData.vpvTRS;",
											"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
											"    var searchName = pm.environment.get(\"VPBaseName\") + '03 Real';",
											"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
											"    var gesamtBedarf = 0;",
											"    if (index >= 0) {",
											"        console.log(\"Found:\", list[index].name);        ",
											"        pm.globals.set(\"vpvID\", list[index]._id);",
											"        var vpv = list[index];",
											"        var startDay = new Date(vpv.startDate);",
											"        var rootPhase = vpv.AllPhases[0];        ",
											"        var firstDay = new Date(pm.globals.get(\"firstDay\"));        ",
											"        var lastDay = new Date(pm.globals.get(\"lastDay\"));",
											"        var aktMonth = 0;",
											"        var months;",
											"        months = (firstDay.getFullYear() - startDay.getFullYear()) * 12;",
											"        months -= startDay.getMonth();",
											"        months += firstDay.getMonth();",
											"        var aktMonth = months;",
											"        console.log(\"aktMonth=\", aktMonth);        ",
											"        rootPhase.AllRoles.forEach(item => {",
											"            console.log(\"roleID = \", item.RollenTyp, item.Bedarf[aktMonth]);",
											"            gesamtBedarf += item.Bedarf[aktMonth];",
											"        })",
											"        console.log(\"GesamtBedarf ber alle Rollen 03 Real = \", gesamtBedarf.toString())",
											"    } else {",
											"        console.log(\"Item not found\", searchName)",
											"        pm.execution.setNextRequest(\"100-04-99 Final\");",
											"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
											"    }    ",
											"    pm.expect(gesamtBedarf).to.eq(493);",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "access-key",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"from\": \"{{firstDay}}\",\n    \"to\": \"{{lastDay}}\",\n    \"name\": \"{{userName}}\",\n    \"status\": \"Yes\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/vc/{{vcID}}/timetracking",
									"host": [
										"{{url}}"
									],
									"path": [
										"vc",
										"{{vcID}}",
										"timetracking"
									]
								}
							},
							"response": []
						},
						{
							"name": "100-04-99 Final",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "access-key",
										"value": "{{token}}"
									}
								],
								"url": {
									"raw": "{{url}}/vp",
									"host": [
										"{{url}}"
									],
									"path": [
										"vp"
									]
								},
								"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "100-03a Create new Project from Template for TimeTracking",
			"item": [
				{
					"name": "100-03a-01 Login Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test(\"01 Login: Check Login Success\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.globals.set(\"token\", jsonData.token);",
									"    pm.expect(jsonData.state).to.eql(\"success\");",
									"});",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"{{UserAdmin}}\",\n  \"password\": \"{{password}}\"\n}"
						},
						"url": {
							"raw": "{{url}}/token/user/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"token",
								"user",
								"login"
							]
						},
						"description": "Successful Login Request  "
					},
					"response": []
				},
				{
					"name": "100-03a-02 Get VC",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Check that VC Testname does not exist\", function () {",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vc;",
									"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
									"    var searchName = pm.environment.get(\"VCBaseName\") + '02';",
									"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
									"    if (index >= 0) {",
									"        console.log(\"Found:\", list[index].name)",
									"        pm.globals.set(\"vcID\", list[index]._id);",
									"    } else {",
									"        console.log(\"Item not found\", searchName)",
									"        pm.execution.setNextRequest(\"100-03a-99 Final\");",
									"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
									"    }",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vc",
							"host": [
								"{{url}}"
							],
							"path": [
								"vc"
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				},
				{
					"name": "100-03a-03 Get VP Template",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Check that VP Template exists or not\", function () {",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vp;",
									"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
									"    var searchName = pm.environment.get(\"VPBaseName\") + 'T';",
									"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
									"    if (index >= 0) {",
									"        console.log(\"Found Template:\", list[index].name)",
									"        pm.globals.set(\"TempID\", list[index]._id);",
									"    } else {",
									"        console.log(\"Item not found\", searchName);",
									"        pm.execution.setNextRequest(\"100-03a-99 Final\");",
									"        pm.expect(searchName).to.be.eql(\"\", \"Project Template not found\");",
									"    }",
									"    var count = pm.environment.get(\"ProjectCreateCount\");",
									"    //if (!(count > 0)) {",
									"        count = 3;",
									"        pm.environment.set(\"ProjectCreateCount\", count);",
									"    //}",
									"    pm.globals.set(\"ProjectCreateCount\", 1);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var startDate = new Date();",
									"startDate.setMonth(startDate.getMonth() - 2);",
									"startDate.setDate(1);",
									"startDate.setHours(0, 0, 0, 0);",
									"",
									"pm.globals.set(\"startDate\", startDate.toISOString());",
									"startDate.setMonth(startDate.getMonth() + 24);",
									"pm.globals.set(\"endDate\", startDate.toISOString());",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vp?vcid={{vcID}}&vpType=2",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp"
							],
							"query": [
								{
									"key": "vcid",
									"value": "{{vcID}}"
								},
								{
									"key": "vpType",
									"value": "2"
								}
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				},
				{
					"name": "100-03a-04 Get VP of VC",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Check that VP exists or not\", function () {",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vp;",
									"    var count = pm.globals.get(\"ProjectCreateCount\");",
									"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
									"    var searchName = pm.environment.get(\"VPBaseName\") + 'TimeRec Real from Template ' + count;",
									"    pm.globals.set(\"vpActualName\", searchName);",
									"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
									"    if (index >= 0) {",
									"        console.log(\"Found:\", list[index].name)",
									"        pm.globals.set(\"vpID\", list[index]._id);",
									"    } else {",
									"        console.log(\"Item not found\", searchName);",
									"        pm.globals.set(\"vpID\", \"\");",
									"        pm.execution.setNextRequest(\"100-03a-06 Create VP from Template\");",
									"    }",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vp?vcid={{vcID}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp"
							],
							"query": [
								{
									"key": "vcid",
									"value": "{{vcID}}"
								}
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				},
				{
					"name": "100-03a-05 Delete VP",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/vp/{{vpID}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp",
								"{{vpID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03a-06 Create VP from Template",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Check Created VPID\", function () {",
									"    var jsonData = pm.response.json();",
									"    var vpName = pm.globals.get(\"vpActualName\");",
									"    pm.expect(jsonData.vp[0].name).to.eql(vpName);",
									"    pm.globals.set(\"vpID\", jsonData.vp[0]._id);",
									"    // console.log(\"Created VP: Start:\", pm.globals.get(\"startDate\"), \"End\", pm.globals.get(\"endDate\"), \"BAC\", pm.variables.get(\"BAC\"), \"RAC\", pm.variables.get(\"RAC\"));",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var startDate = new Date(pm.globals.get(\"startDate\"));",
									"startDate.setDate(startDate.getDate() + 14);",
									"pm.globals.set(\"startDate\", startDate.toISOString());",
									"var endDate = new Date(startDate);",
									"endDate.setMonth(startDate.getMonth() + 16);",
									"pm.globals.set(\"endDate\", endDate.toISOString());",
									"",
									"var count = pm.globals.get(\"ProjectCreateCount\");",
									"console.log(\"ProjectCreateCount: = \", count)",
									"var faktor = 0.5 * count;",
									"var bac = 300 * (1 + faktor);",
									"pm.globals.set(\"BAC\", bac);",
									"pm.globals.set(\"RAC\", bac * 1.11);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{  \n    \"name\":\"{{vpActualName}}\",\n    \"description\": \"Created from VP Template\",\n    \"startDate\": \"{{startDate}}\",\n    \"endDate\": \"{{endDate}}\",\n    \"bac\": {{BAC}},\n    \"rac\": {{RAC}},\n    \"vcid\":\"{{vcID}}\",\n   \"customFieldString\": [\n       {\"name\": \"_businessUnit\", \"value\": \"BU3\"}, \n       {\"name\": \"referenceID\", \"value\": \"KdNr.4731\"}\n    ],\n   \"customFieldDouble\": [\n       {\"name\": \"_risk\", \"value\": \"1\"}, \n       {\"name\": \"_strategicFit\", \"value\": \"1\"}, \n       {\"name\": \"score\", \"value\": 0}\n    ]\n\n}"
						},
						"url": {
							"raw": "{{url}}/vp?vpid={{TempID}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp"
							],
							"query": [
								{
									"key": "vpid",
									"value": "{{TempID}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03a-07 VP Status change",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Check Created VPID\", function () {",
									"    var jsonData = pm.response.json();",
									"    var vp = jsonData.vp[0];",
									"    var varVPStatus = pm.variables.get(\"varVPStatus\")",
									"    pm.expect(vp.vpStatus).to.be.eql(varVPStatus, 'vpStatus not set correct')",
									"",
									"    if (vp.vpStatus != 'proposed' && vp.vpStatus != 'ordered') {",
									"        pm.execution.setNextRequest(\"100-03a-10 Get Status\")",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var vpStatus = ['init', 'proposed', 'ordered', 'paused', 'finished', 'stopped'];",
									"var count = pm.globals.get(\"ProjectCreateCount\");",
									"console.log(\"Create VP from Template\", count, count %vpStatus.length);",
									"count = count % vpStatus.length;",
									"var varVPStatus = vpStatus[count];",
									"pm.variables.set(\"varVPStatus\", varVPStatus);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{  \n   \"vpStatus\": \"{{varVPStatus}}\"\n}"
						},
						"url": {
							"raw": "{{url}}/vp/{{vpID}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp",
								"{{vpID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03a-08 Get VPV",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vpv;",
									"    var listItems = [];",
									"",
									"    pm.expect(list && list.length == 1).to.be.eql(true, \"No List found\");",
									"",
									"    var vpv = list[0];",
									"    bac = Math.round(parseFloat(pm.globals.get(\"BAC\")) * 1000) / 1000;",
									"    rac = Math.round(parseFloat(pm.globals.get(\"RAC\")) * 1000) / 1000;",
									"    startDate = pm.globals.get(\"startDate\");",
									"    endDate = pm.globals.get(\"endDate\");",
									"    // doesn't make sense to compare values of the baseline with new changed vpv-Cost",
									"    //var value = Math.round(vpv.keyMetrics.costBaseLastTotal * 1000) / 1000;",
									"    //pm.expect(bac).to.be.eql(value, \"Budget at Completion mismatch\");",
									"    value = Math.round(vpv.keyMetrics.costCurrentTotal * 1000) / 1000;",
									"    pm.expect(bac).to.be.eql(value, \"Cost Current Total mismatch\");",
									"    value = Math.round(vpv.Erloes * 1000) / 1000;",
									"    pm.expect(rac).to.be.eql(value, \"revenue at Completion Total mismatch\");",
									"    ",
									"    pm.expect(startDate).to.be.eql(vpv.startDate, \"Start Date mismatch\");",
									"    pm.expect(endDate).to.be.eql(vpv.endDate, \"endDate Date mismatch\");",
									"    pm.expect(endDate).to.be.eql(vpv.keyMetrics.endDateBaseLast, \"endDate Date Baseline mismatch\");",
									"    pm.expect(endDate).to.be.eql(vpv.keyMetrics.endDateCurrent, \"endDate Date Current mismatch\");",
									"    ",
									"    pm.globals.set('vpvID', vpv._id);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vpv?vpid={{vpID}}&refDate=&variantName=&longList=1",
							"host": [
								"{{url}}"
							],
							"path": [
								"vpv"
							],
							"query": [
								{
									"key": "vpid",
									"value": "{{vpID}}"
								},
								{
									"key": "refDate",
									"value": ""
								},
								{
									"key": "variantName",
									"value": ""
								},
								{
									"key": "longList",
									"value": "1"
								}
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				},
				{
					"name": "100-03a-09 Create a VPV scaleVPV",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"ProjectCreateCount\");",
									"",
									"var direction = (count % 2) * 2 - 1;",
									"var factor = Math.round(0.1 * (count / 2) * 100) / 100;",
									"factor = Math.min(factor, 0.9);",
									"console.log(\"count\", count, \"direction\", direction, \"scaleFactor\", factor);",
									"",
									"var endDate = new Date(pm.globals.get('endDate'));",
									"endDate.setDate(endDate.getDate() + 90 * factor * direction);",
									"",
									"var copyBody = {};",
									"copyBody.endDate = endDate;",
									"",
									"pm.variables.set(\"vpvTemp\", JSON.stringify(copyBody));",
									"pm.globals.set(\"scaleFactor\", 1 + factor * direction);",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"    ",
									"    var jsonData = pm.response.json();",
									"    pm.globals.set(\"vpvID\", jsonData.vpv[0]._id);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{vpvTemp}}"
						},
						"url": {
							"raw": "{{url}}/vpv/{{vpvID}}/copy?scaleFactor={{scaleFactor}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"vpv",
								"{{vpvID}}",
								"copy"
							],
							"query": [
								{
									"key": "scaleFactor",
									"value": "{{scaleFactor}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03a-10 Get Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"",
									"    var count = pm.globals.get(\"ProjectCreateCount\") + 1;",
									"    pm.globals.set(\"ProjectCreateCount\", count);",
									"    var ProjectCreateCount = pm.environment.get(\"ProjectCreateCount\")",
									"    if (!(ProjectCreateCount > 0)) ProjectCreateCount = 5;",
									"    if (count < ProjectCreateCount) {",
									"        pm.execution.setNextRequest(\"100-03a-04 Get VP of VC\")",
									"    }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/status",
							"host": [
								"{{url}}"
							],
							"path": [
								"status"
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				},
				{
					"name": "100-03a-99 Final",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vp",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp"
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				}
			]
		},
		{
			"name": "100-03b Create TimeRecords Annabell",
			"item": [
				{
					"name": "100-03b-031 User Login vtr Annabell",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"01 Login: Check Login Success\", function () {",
									"    var jsonData = pm.response.json();    ",
									"    pm.globals.set(\"token\", jsonData.token);",
									"    pm.globals.set(\"userID\", jsonData.user._id);",
									"    console.log(\"userID\", jsonData.user._id);     ",
									"    pm.globals.set(\"userEmail\", jsonData.user.email);",
									"    console.log(\"userEmail\", jsonData.user.email);       ",
									"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
									"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
									"    pm.expect(jsonData.state).to.eql(\"success\");",
									"});",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"annabell@visbo.de\",\n  \"password\": \"ann_Just84\"\n}"
						},
						"url": {
							"raw": "{{url}}/token/user/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"token",
								"user",
								"login"
							]
						},
						"description": "Successful Login Request  "
					},
					"response": []
				},
				{
					"name": "100-03c-01 User Login vtr Anton",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"01 Login: Check Login Success\", function () {",
									"    var jsonData = pm.response.json();    ",
									"    pm.globals.set(\"token\", jsonData.token);",
									"    pm.globals.set(\"userID\", jsonData.user._id);",
									"    console.log(\"userID\", jsonData.user._id);    ",
									"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
									"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
									"    pm.expect(jsonData.state).to.eql(\"success\");",
									"});",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"anton@visbo.de\",\n  \"password\": \"ant_Just84\"\n}"
						},
						"url": {
							"raw": "{{url}}/token/user/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"token",
								"user",
								"login"
							]
						},
						"description": "Successful Login Request  "
					},
					"response": []
				},
				{
					"name": "100-03b-032 Get VC",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Check that VC Testname does exists\", function () {",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vc;",
									"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
									"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
									"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
									"    if (index >= 0) {",
									"        console.log(\"Found:\", list[index].name)",
									"        pm.globals.set(\"vcID\", list[index]._id);",
									"    } else {",
									"        console.log(\"Item not found\", searchName)",
									"        pm.execution.setNextRequest(\"100-03b-03-99 Final\");",
									"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vc",
							"host": [
								"{{url}}"
							],
							"path": [
								"vc"
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				},
				{
					"name": "100-03b-033 Get VC Orga latest",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    var organisation = jsonData.organisation;",
									"    pm.expect(organisation).not.to.be.eql(undefined, \"No organisation found\");",
									"    pm.expect(organisation.length).to.be.eql(1, \"Wrong expected number of organisation\");",
									"",
									"    var allRoles = organisation[0].allRoles;",
									"    pm.globals.set(\"allRoles\", allRoles);",
									"    ",
									"    var allRoles = pm.globals.get(\"allRoles\");",
									"    //console.log(\"allRoles = \", allRoles);",
									"",
									"    var role = allRoles.find(role => {",
									"        if (!role.isSummaryRole && role.isExternRole != true && !role.subRoleIDs && role.email == pm.globals.get(\"userEmail\")) {",
									"            return true;",
									"        }",
									"    });",
									"    console.log(\"Found person in orga :\", role?.name, role?.email);",
									"    pm.globals.set(\"roleID\", role.uid);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var orgaRefDate = new Date();",
									"pm.variables.set(\"varOrgaRefDate\", orgaRefDate.toISOString());",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{url}}/vc/{{vcID}}/organisation?refDate=&hierarchy=1",
							"host": [
								"{{url}}"
							],
							"path": [
								"vc",
								"{{vcID}}",
								"organisation"
							],
							"query": [
								{
									"key": "refDate",
									"value": ""
								},
								{
									"key": "hierarchy",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03b-034 Get VP",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Check that VP Testname does exist\", function () {",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vp;    ",
									"    var count = 1;",
									"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
									"    var searchName = pm.environment.get(\"VPBaseName\") + 'TimeRec Real from Template ' + count;",
									"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
									"    if (index >= 0) {",
									"        console.log(\"Found:\", list[index].name)",
									"        pm.globals.set(\"vpID\", list[index]._id);",
									"",
									"    } else {",
									"        console.log(\"Item not found\", searchName)",
									"        pm.execution.setNextRequest(\"100-03b-03-99 Final\");",
									"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
									"    }",
									"          ",
									"    var timerecdate = new Date();",
									"    timerecdate.setMonth(timerecdate.getMonth() - 3);",
									"    timerecdate.setDate(1);",
									"    timerecdate.setHours(0, 0, 0, 0);",
									"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
									"    console.log(\"timerecdate = \", timerecdate.toString())",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vp?vcid={{vcID}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp"
							],
							"query": [
								{
									"key": "vcid",
									"value": "{{vcID}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03b-035 Create time entry -3 month",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.set(\"hours\", 5);\r",
									"var userID = pm.globals.get(\"userID\");\r",
									"console.log(\"aktuelle userID = \", userID);\r",
									"var userName = pm.globals.get(\"userName\");\r",
									"console.log(\"aktuelle userName = \", userName);\r",
									"var vcID = pm.globals.get(\"vcID\");\r",
									"console.log(\"aktuelles VC = \", vcID);\r",
									"var vpID = pm.globals.get(\"vpID\");\r",
									"console.log(\"aktuelles VP = \", vpID);\r",
									"var userEmail = pm.globals.get(\"userEmail\");\r",
									"console.log(\"aktuelle userEmail = \", userEmail);\r",
									"var allRoles = pm.globals.get(\"allRoles\");\r",
									"//console.log(\"allRoles = \", allRoles);\r",
									"\r",
									"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
									"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
									"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
									"console.log(\"timerecdate = \", timerecdate.toString())\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"02 Time tracker: Create new entry \", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
									"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
									"    pm.globals.set(\"userId\", jsonData.userId);",
									"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
									"    var day = timerecDate.getDate();",
									"    console.log(\"day = \", day);",
									"    if (day < 30) {",
									"        pm.execution.setNextRequest(\"100-03b-035 Create time entry -3 month\")",
									"    } else {",
									"        pm.execution.setNextRequest(\"100-03b-036 Get VP\")",
									"    }",
									"    pm.expect(jsonData.state).to.eql(\"success\");    ",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Meeting to Analyse\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/user/timetracker",
							"host": [
								"{{url}}"
							],
							"path": [
								"user",
								"timetracker"
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03b-036 Get VP",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Check that VP Testname does exist\", function () {",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vp;",
									"    var count = 2;",
									"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
									"    var searchName = pm.environment.get(\"VPBaseName\") + 'TimeRec Real from Template ' + count;    ",
									"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
									"    if (index >= 0) {",
									"        console.log(\"Found:\", list[index].name)",
									"        pm.globals.set(\"vpID\", list[index]._id);",
									"",
									"    } else {",
									"        console.log(\"Item not found\", searchName)",
									"        pm.execution.setNextRequest(\"100-03b-03-99 Final\");",
									"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
									"    }",
									"         ",
									"    var timerecdate = new Date();",
									"    timerecdate.setMonth(timerecdate.getMonth() - 2);",
									"    timerecdate.setDate(1);",
									"    timerecdate.setHours(0, 0, 0, 0);",
									"    pm.globals.set(\"timerecdate\", timerecdate.toString());",
									"    console.log(\"timerecdate = \", timerecdate.toString())",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vp?vcid={{vcID}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp"
							],
							"query": [
								{
									"key": "vcid",
									"value": "{{vcID}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03b-037 Create time entry -2 month",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.set(\"hours\", 4);\r",
									"var userID = pm.globals.get(\"userID\");\r",
									"console.log(\"aktuelle userID = \", userID);\r",
									"var userName = pm.globals.get(\"userName\");\r",
									"console.log(\"aktuelle userName = \", userName);\r",
									"var vcID = pm.globals.get(\"vcID\");\r",
									"console.log(\"aktuelles VC = \", vcID);\r",
									"var vpID = pm.globals.get(\"vpID\");\r",
									"console.log(\"aktuelles VP = \", vpID);\r",
									"var userEmail = pm.globals.get(\"userEmail\");\r",
									"console.log(\"aktuelle userEmail = \", userEmail);\r",
									"var allRoles = pm.globals.get(\"allRoles\");\r",
									"//console.log(\"allRoles = \", allRoles);\r",
									"\r",
									"var timerecdate = new Date(pm.globals.get(\"timerecdate\"));\r",
									"timerecdate.setDate(timerecdate.getDate()+ 1);\r",
									"pm.globals.set(\"timerecdate\", timerecdate.toString());\r",
									"console.log(\"timerecdate = \", timerecdate.toString())\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"02 Time tracker: Create new entry \", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.globals.set(\"entryId\", jsonData.timeEntry._id);",
									"    console.log(\"entryId = \"+jsonData.timeEntry._id);",
									"    pm.globals.set(\"userId\", jsonData.userId);",
									"    var timerecDate = new Date (pm.globals.get(\"timerecdate\"));",
									"    var day = timerecDate.getDate();",
									"    console.log(\"day = \", day);",
									"    if (day < 30) {",
									"        pm.execution.setNextRequest(\"100-03b-037 Create time entry -2 month\")",
									"    } else {",
									"        pm.execution.setNextRequest(\"100-03b-03-99 Final\")",
									"    }",
									"    pm.expect(jsonData.state).to.eql(\"success\");    ",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"userId\": \"{{userID}}\",\n    \"vpid\": \"{{vpID}}\",\n    \"vcid\": \"{{vcID}}\",\n    \"roleId\": {{roleID}},\n    \"date\": \"{{timerecdate}}\",\n    \"time\": {{hours}},\n    \"name\": \"{{userName}}\",\n    \"status\": \"No\",\n    \"notes\": \"Analyse - Task check it\",\n    \"approvalDate\": null,\n    \"approvalId\": null\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/user/timetracker",
							"host": [
								"{{url}}"
							],
							"path": [
								"user",
								"timetracker"
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03b-03-99 Final",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vp",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp"
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				}
			]
		},
		{
			"name": "100-03c Approve TimeRecords",
			"item": [
				{
					"name": "100-03c-01 User Login vtr Anton",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"01 Login: Check Login Success\", function () {",
									"    var jsonData = pm.response.json();    ",
									"    pm.globals.set(\"token\", jsonData.token);",
									"    pm.globals.set(\"userID\", jsonData.user._id);",
									"    console.log(\"userID\", jsonData.user._id);     ",
									"    pm.globals.set(\"userEmail\", jsonData.user.email);",
									"    console.log(\"userEmail\", jsonData.user.email);       ",
									"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
									"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
									"    pm.expect(jsonData.state).to.eql(\"success\");",
									"});",
									"",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"anton@visbo.de\",\n  \"password\": \"ant_Just84\"\n}"
						},
						"url": {
							"raw": "{{url}}/token/user/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"token",
								"user",
								"login"
							]
						},
						"description": "Successful Login Request  "
					},
					"response": []
				},
				{
					"name": "100-03c-02 Get VC",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Check that VC Testname does exists\", function () {",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vc;",
									"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
									"    var searchName = pm.environment.get(\"VCBaseName\") + '02';",
									"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
									"    if (index >= 0) {",
									"        console.log(\"Found:\", list[index].name)",
									"        pm.globals.set(\"vcID\", list[index]._id);",
									"    } else {",
									"        console.log(\"Item not found\", searchName)",
									"        pm.execution.setNextRequest(\"100-03c-99 Final\");",
									"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vc",
							"host": [
								"{{url}}"
							],
							"path": [
								"vc"
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				},
				{
					"name": "100-03c-07 Get time entries for Update",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"04 Time tracker: Get time entries\", function () {    ",
									"    var jsonData = pm.response.json();",
									"    var timeRecs = jsonData.managerView;",
									"    var listOfRec = [];",
									"    console.log(\"timeRecs = \", timeRecs);    ",
									"    var startDate = new Date(pm.globals.get(\"startDate\")).getTime();",
									"    var endDate = new Date(pm.globals.get(\"endDate\")).getTime();",
									"    timeRecs.forEach(item => {",
									"        var aktDate = new Date(item.date).getTime();",
									"        //console.log( \"aktDate=\", aktDate);",
									"        //console.log( \"startDate=\", startDate);",
									"        //console.log( \"endDate=\", endDate);",
									"        if ((aktDate >= startDate) && (aktDate <= endDate) ) {",
									"            listOfRec.push({id: item._id, vpid: item.vpid})",
									"        }",
									"    });    ",
									"    console.log(\"ListofRec=\", listOfRec); ",
									"    pm.globals.set(\"updateTimeEntries\", JSON.stringify(listOfRec));   ",
									"    pm.expect(jsonData.state).to.eql(\"success\");",
									"})"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									" var today = new Date();\r",
									"    var mm = today.getMonth();\r",
									"    var yy = today.getFullYear();\r",
									"    var approve_mm = mm - 2;\r",
									"    var firstDay = new Date(yy, approve_mm, 1, 2,0,0,000);  \r",
									"    console.log(\"firstDay : \", firstDay.toISOString());\r",
									"    var lastDay = new Date(yy, approve_mm + 1, 1,23,59,59,000);  \r",
									"    lastDay.setHours(0,0,0,0);  \r",
									"    console.log(\"lastDay : \", lastDay.toISOString())\r",
									"    pm.globals.set(\"startDate\", firstDay.toISOString());\r",
									"    pm.globals.set(\"endDate\", lastDay.toISOString());"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"startDate\": \"{{startDate}}\",\r\n    \"endDate\": \"{{endDate}}\",\r\n    \"asApprover\": true\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/user/timetracker/{{userID}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"user",
								"timetracker",
								"{{userID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03c-08 Update all time entries",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var listOfRecs = JSON.parse(pm.globals.get(\"updateTimeEntries\"));\r",
									"pm.variables.set(\"listOfRecs\",JSON.stringify(listOfRecs));\r",
									"console.log(\"updateTimeEntries=\", listOfRecs);\r",
									"//var entryId = pm.globals.get(\"entryId\");\r",
									"var userId = pm.globals.get(\"userID\");\r",
									"var apprDate = new Date();\r",
									"pm.globals.set(\"apprDate\", apprDate.toISOString());\r",
									"pm.globals.set(\"userID\" , userId)\r",
									"\r",
									"var approvAll = {\"status\": \"Yes\",\r",
									"    \"notes\": \"Additional info about task\",\r",
									"    \"approvalDate\": apprDate.toISOString(),\r",
									"    \"approvalId\": userId,\r",
									"    \"approvalList\": listOfRecs\r",
									"}\r",
									"pm.globals.set(\"approveAll\", JSON.stringify(approvAll));"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"06 Time tracker: Update time entry\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.state).to.eql(\"success\");",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{approveAll}}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/user/timetracker",
							"host": [
								"{{url}}"
							],
							"path": [
								"user",
								"timetracker"
							]
						}
					},
					"response": []
				},
				{
					"name": "100-03c-99 Final",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vp",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp"
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				}
			]
		},
		{
			"name": "100-04a Process TimeRecords some before projStart",
			"item": [
				{
					"name": "100-04a-01 User Login vtr Achim",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"01 Login: Check Login Success\", function () {",
									"    var jsonData = pm.response.json();    ",
									"    pm.globals.set(\"token\", jsonData.token);",
									"    pm.globals.set(\"userID\", jsonData.user._id);",
									"    console.log(\"userID\", jsonData.user._id);    ",
									"    pm.globals.set(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
									"    console.log(\"userName\", jsonData.user.profile.firstName + ' ' + jsonData.user.profile.lastName);",
									"    pm.expect(jsonData.state).to.eql(\"success\");",
									"});",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"achim@visbo.de\",\n  \"password\": \"ach_Just84\"\n}"
						},
						"url": {
							"raw": "{{url}}/token/user/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"token",
								"user",
								"login"
							]
						},
						"description": "Successful Login Request  "
					},
					"response": []
				},
				{
					"name": "100-04a-02 Get VC",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code Check\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Check that VC Testname does exists\", function () {",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vc;",
									"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
									"      var searchName = pm.environment.get(\"VCBaseName\") + '02';",
									"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
									"    if (index >= 0) {",
									"        console.log(\"Found:\", list[index].name)",
									"        pm.globals.set(\"vcID\", list[index]._id);",
									"    } else {",
									"        console.log(\"Item not found\", searchName)",
									"        pm.execution.setNextRequest(\"100-04a-99 Final\");",
									"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vc",
							"host": [
								"{{url}}"
							],
							"path": [
								"vc"
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				},
				{
					"name": "100-04a-06 Process time entries",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var userID = pm.globals.get(\"userID\");\r",
									"console.log(\"aktuelle userID = \", userID);\r",
									"var vcID = pm.globals.get(\"vcID\");\r",
									"console.log(\"akt. vcid = \" , vcID);\r",
									"var today = new Date();\r",
									"var mm = today.getMonth();\r",
									"var approve_mm = mm - 2;\r",
									"var yyyy = today.getFullYear();\r",
									"var firstDay = new Date(yyyy, approve_mm, 1, 2,0,0,000);  \r",
									"console.log(\"firstDay : \", firstDay.toISOString());\r",
									"var lastDay = new Date(yyyy, approve_mm + 1, 1,23,59,59,000);  \r",
									"lastDay.setHours(0,0,0,0);  \r",
									"console.log(\"lastDay : \", lastDay.toISOString());\r",
									"pm.globals.set(\"firstDay\", firstDay.toString());\r",
									"pm.globals.set(\"lastDay\", lastDay.toString())\r",
									"\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"01 Proecess TimeTracker: process timeRecords \", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.response.to.have.status(200);",
									"});",
									"    ",
									"pm.test(\"01 Proecess TimeTracker: process timeRecords \", function () {",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vpvTRS;",
									"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
									"    var searchName = pm.environment.get(\"VPBaseName\") + 'TimeRec Real from Template 1';",
									"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
									"    var gesamtBedarf = 0;",
									"    if (index >= 0) {",
									"        console.log(\"Found:\", list[index].name);        ",
									"        pm.globals.set(\"vpvID\", list[index]._id);",
									"        var vpv = list[index];",
									"        var startDay = new Date(vpv.startDate);",
									"        var rootPhase = vpv.AllPhases[0];        ",
									"        var firstDay = new Date(pm.globals.get(\"firstDay\"));",
									"        var lastDay = new Date(pm.globals.get(\"lastDay\"));",
									"       ",
									"        var months;",
									"        months = (firstDay.getFullYear() - startDay.getFullYear()) * 12;",
									"        months -= startDay.getMonth();",
									"        months += firstDay.getMonth();",
									"        var aktMonth = months;",
									"",
									"        rootPhase.AllRoles.forEach(item => {",
									"            console.log(\"roleID = \", item.RollenTyp, item.Bedarf[aktMonth]);",
									"            gesamtBedarf += item.Bedarf[aktMonth];",
									"        })",
									"        console.log(\"GesamtBedarf ber alle Rollen = \", gesamtBedarf.toString())",
									"    } else {",
									"        console.log(\"Item not found\", searchName); ",
									"        pm.execution.setNextRequest(\"100-04a-99 Final\");",
									"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
									"    }       ",
									"    pm.expect(gesamtBedarf).to.eq(18.125);",
									"});",
									"        ",
									"pm.test(\"03 Proecess TimeTracker: process timeRecords \", function () {",
									"    var jsonData = pm.response.json();",
									"    var list = jsonData.vpvTRS;",
									"    pm.expect(list && list.length >= 0).to.be.eql(true, \"No List found\");",
									"    var searchName = pm.environment.get(\"VPBaseName\") + 'TimeRec Real from Template 2';",
									"    var index = list.findIndex(item => item.name.indexOf(searchName) == 0);",
									"    var gesamtBedarf = 0;",
									"    if (index >= 0) {",
									"        console.log(\"Found:\", list[index].name);        ",
									"        pm.globals.set(\"vpvID\", list[index]._id);",
									"        var vpv = list[index];",
									"        var startDay = new Date(vpv.startDate);",
									"        var rootPhase = vpv.AllPhases[0];        ",
									"        var firstDay = new Date(pm.globals.get(\"firstDay\"));",
									"        var lastDay = new Date(pm.globals.get(\"lastDay\"));",
									"",
									"        var months;",
									"        months = (firstDay.getFullYear() - startDay.getFullYear()) * 12;",
									"        months -= startDay.getMonth();",
									"        months += firstDay.getMonth();",
									"        var aktMonth = months;",
									"        rootPhase.AllRoles.forEach(item => {",
									"            console.log(\"roleID = \", item.RollenTyp, item.Bedarf[aktMonth]);",
									"            gesamtBedarf += item.Bedarf[aktMonth];",
									"        })",
									"        console.log(\"GesamtBedarf ber alle Rollen 03 Real = \", gesamtBedarf.toString())",
									"    } else {",
									"        console.log(\"Item not found\", searchName)",
									"        pm.execution.setNextRequest(\"100-04a-99 Final\");",
									"        pm.expect(searchName).to.be.eql(\"\", \"Stop Executing Collection\");",
									"    }    ",
									"    pm.expect(gesamtBedarf).to.eq(14.5);",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"from\": \"{{firstDay}}\",\n    \"to\": \"{{lastDay}}\",\n    \"name\": \"{{userName}}\",\n    \"status\": \"Yes\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/vc/{{vcID}}/timetracking",
							"host": [
								"{{url}}"
							],
							"path": [
								"vc",
								"{{vcID}}",
								"timetracking"
							]
						}
					},
					"response": []
				},
				{
					"name": "100-04a-99 Final",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vp",
							"host": [
								"{{url}}"
							],
							"path": [
								"vp"
							]
						},
						"description": "Get VC List and Check if the VC with Admin permission exists, if so skip the creation"
					},
					"response": []
				}
			]
		},
		{
			"name": "100 Final01",
			"item": [
				{
					"name": "99-01 Final",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "access-key",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{url}}/vc",
							"host": [
								"{{url}}"
							],
							"path": [
								"vc"
							]
						}
					},
					"response": []
				},
				{
					"name": "99-10 Finish Flow",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var runnerStart = new Date(pm.globals.get(\"runnerStart\"));",
									"var runnerEnd = new Date();",
									"",
									"var diff = (runnerEnd.getTime() - runnerStart.getTime()) / 1000;",
									"var message = \"Finish Flow \".concat(diff, ' sec')",
									"",
									"pm.test(message, function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.status && jsonData.status.version != undefined).to.eql(true, \"Status Version Missing\");",
									"    pm.globals.set(\"runnerStart\", (new Date()).toISOString());",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/status",
							"host": [
								"{{url}}"
							],
							"path": [
								"status"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}